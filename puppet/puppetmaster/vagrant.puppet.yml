---
defaults: &defaults
  box: chef/centos-6.5
  memory: 512
  shared_path : &shared_path
    ~/Documents/Git/learnvagrant/shared
  sync_folders:
    host: ~/Documents/Git/learnvagrant/shared
    guest: /shared
nodes:
  chefserver:
    << : *defaults
    hostname: puppetmaster.iono.vm
    memory: 1024
    networks:
      - private_network:
          ip: 192.168.128.211
    provisioners: &provisioners
      file:
        -
          source:
            /Users/mrajani/.gitconfig
          destination:
            /home/vagrant/.gitconfig
        -
          source:
            ~/Documents/Git/learnvagrant/shared/git_rsa
          destination:
            /home/vagrant/.ssh/id_rsa
        -
          source:
            ~/Documents/Git/learnvagrant/shared/git_rsa.pub
          destination:
            /home/vagrant/.ssh/id_rsa.pub
      shell:
        -
          path: "~/Documents/Git/learnvagrant/shared/puppetmaster.sh"
          args:
            - value: "192.168.128.211"
            - value: "puppetmaster"
            - value: "iono.vm"
        -
          path: "~/Documents/Git/learnvagrant/shared/gitsetup.sh"
        -
          path: "~/Documents/Git/learnvagrant/shared/gitinstall.sh"
          args:
            - value: centos
